- algorithm.adv_estimator=grpo
- data.train_files=/data/xiaoyukou/GRLM/in_domain/beauty/rl_data/train.parquet
- data.val_files=/data/xiaoyukou/GRLM/in_domain/beauty/rl_data/test.parquet
- data.max_prompt_length=10240
- ++data.enable_think=False
- ++data.enable_nonthink=False
- ++data.use_force_prefix=False
- data.prompt_key=prompt
- data.shuffle=True
- data.max_response_length=2048
- data.train_batch_size=2
- data.filter_overlong_prompts=True
- data.truncation=error
- data.custom_cls.path=/data/xiaoyukou/GRLM/verl_rl/recipe/grlm/grlm_recipe.py
- data.custom_cls.name=GrlmDataset
- data.reward_fn_key=source
- ++data.data_source_key=source
- actor_rollout_ref.ref.entropy_from_logits_with_chunking=True
- actor_rollout_ref.actor.entropy_checkpointing=True
- actor_rollout_ref.rollout.enable_chunked_prefill=True
- actor_rollout_ref.rollout.calculate_log_probs=False
- actor_rollout_ref.actor.clip_ratio_high=0.28
- actor_rollout_ref.model.enable_activation_offload=True
- actor_rollout_ref.model.use_remove_padding=True
- custom_reward_function.path=/data/xiaoyukou/GRLM/verl_rl/recipe/grlm/grlm_recipe.py
- custom_reward_function.name=compute_score
- actor_rollout_ref.actor.use_dynamic_bsz=True
- actor_rollout_ref.actor.ppo_max_token_len_per_gpu=40960
- actor_rollout_ref.actor.ppo_mini_batch_size=2
- actor_rollout_ref.ref.log_prob_max_token_len_per_gpu=40960
- actor_rollout_ref.rollout.log_prob_max_token_len_per_gpu=40960
- actor_rollout_ref.rollout.max_num_batched_tokens=40960
- actor_rollout_ref.rollout.max_num_seqs=2048
- actor_rollout_ref.actor.optim.lr=2e-6
- actor_rollout_ref.actor.optim.lr_warmup_steps=10
- actor_rollout_ref.actor.optim.weight_decay=0.1
- actor_rollout_ref.model.path=/data/xiaoyukou/LLaMA-Factory/saves/grlm/indomain_beauty
- actor_rollout_ref.model.enable_gradient_checkpointing=True
- actor_rollout_ref.rollout.n=1
- actor_rollout_ref.rollout.dtype=bfloat16
- actor_rollout_ref.rollout.tensor_model_parallel_size=1
- actor_rollout_ref.rollout.name=two_stage
- ++actor_rollout_ref.rollout.backend=vllm
- actor_rollout_ref.rollout.gpu_memory_utilization=0.6
- ++actor_rollout_ref.rollout.max_length=2048
- ++actor_rollout_ref.rollout.stage1_max_tokens=1024
- ++actor_rollout_ref.rollout.stage2_num_tokens=3
- ++actor_rollout_ref.rollout.stage2_beam_size=32
- ++actor_rollout_ref.rollout.engine_kwargs.vllm.max_logprobs=320
- actor_rollout_ref.rollout.temperature=1
- actor_rollout_ref.rollout.top_p=1.0
- actor_rollout_ref.rollout.do_sample=True
- actor_rollout_ref.actor.use_kl_loss=True
- actor_rollout_ref.actor.kl_loss_coef=0.001
- actor_rollout_ref.actor.kl_loss_type=low_var_kl
- algorithm.norm_adv_by_std_in_grpo=True
- algorithm.use_kl_in_reward=False
- trainer.default_hdfs_dir=null
- trainer.n_gpus_per_node=2
- trainer.nnodes=1
- trainer.save_freq=50
- trainer.test_freq=50
- trainer.project_name=GRLM_RL
- trainer.experiment_name=grpo_exper
- trainer.default_local_dir=./output/ckpts
- trainer.total_epochs=2
- trainer.val_before_train=True
- actor_rollout_ref.ref.strategy=fsdp2
- actor_rollout_ref.actor.strategy=fsdp2
- ++critic.enable=False
- ++actor_rollout_ref.actor.fsdp_config.model_dtype=bfloat16
- ++actor_rollout_ref.ref.fsdp_config.model_dtype=bfloat16
